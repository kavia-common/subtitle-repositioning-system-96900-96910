{"is_source_file": true, "format": "Python", "description": "This script repositions subtitles in SRT files to the top of the screen by manipulating ASS override tags within the subtitle cues. It parses SRT content, modifies override tags to enforce top alignment ({\\an8}), and writes the updated subtitles back to a file. The script includes command-line interface support for processing files.", "external_files": ["os", "re", "argparse"], "external_methods": ["os.path.isfile", "open", "re.compile"], "published": ["reposition_srt_to_top"], "classes": [], "methods": [{"name": "str _sanitize_line_top(line: str)", "description": "Sanitizes a single cue line to enforce top alignment by replacing or inserting {\\an8} override tags.", "scope": "", "scopeKind": ""}, {"name": "List[str] _process_cue_text_lines_to_top(text_lines: List[str])", "description": "Processes multiline cue text, applying _sanitize_line_top to the first non-empty line to enforce top positioning.", "scope": "", "scopeKind": ""}, {"name": "List[Tuple[str,str,List[str]]] parse_srt_blocks(content: str)", "description": "Parses the SRT content into a list of (index, time_line, text_lines) tuples, attempting to robustly handle various formats.", "scope": "", "scopeKind": ""}, {"name": "str format_srt(cues: List[Tuple[str, str, List[str]]])", "description": "Formats a list of subtitle cues back into SRT string content.", "scope": "", "scopeKind": ""}, {"name": "str reposition_srt_to_top(srt_content: str)", "description": "Main function that modifies entire SRT content to reposition all cues at the top by adjusting override tags.", "scope": "", "scopeKind": ""}, {"name": "None main()", "description": "Command-line interface entry point that reads input files, processes the SRT to move cues to top, and writes the output.", "scope": "", "scopeKind": ""}], "calls": ["reposition_srt_to_top", "parse_srt_blocks", "_process_cue_text_lines_to_top", "_sanitize_line_top"], "search-terms": ["reposition_srt_top", "SRT subtitle", "ASS override tags", "subtitle alignment", "cue processing", "top position", "override manipulation"], "state": 2, "file_id": 7, "knowledge_revision": 19, "git_revision": "e19a35e391575eb2649cdf1ba59bde18029fff90", "ctags": [{"_type": "tag", "name": "ASS_ALIGN_TAG_RE", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^ASS_ALIGN_TAG_RE = re.compile(r\"\\\\{\\\\\\\\an[1-9]\\\\}\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ASS_BLOCK_AT_START_RE", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^ASS_BLOCK_AT_START_RE = re.compile(r\"^\\\\{[^}]*\\\\}\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SRT_BLOCK_SPLIT", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^SRT_BLOCK_SPLIT = re.compile(r\"\\\\n\\\\s*\\\\n\", re.MULTILINE)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "TIME_LINE_RE", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^TIME_LINE_RE = re.compile($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_process_cue_text_lines_to_top", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^def _process_cue_text_lines_to_top(text_lines: List[str]) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "(text_lines: List[str])"}, {"_type": "tag", "name": "_sanitize_line_top", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^def _sanitize_line_top(line: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(line: str)"}, {"_type": "tag", "name": "format_srt", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^def format_srt(cues: List[Tuple[str, str, List[str]]]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(cues: List[Tuple[str, str, List[str]]])"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^def main() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parse_srt_blocks", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^def parse_srt_blocks(content: str) -> List[Tuple[str, str, List[str]]]:$/", "language": "Python", "typeref": "typename:List[Tuple[str,str,List[str]]]", "kind": "function", "signature": "(content: str)"}, {"_type": "tag", "name": "reposition_srt_to_top", "path": "/home/kavia/workspace/code-generation/subtitle-repositioning-system-96900-96910/subtitle_backend/src/api/reposition_srt_top.py", "pattern": "/^def reposition_srt_to_top(srt_content: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(srt_content: str)"}], "hash": "083e975bebd2a27be32ef045c4de274b", "format-version": 4, "code-base-name": "subtitle_backend", "filename": "subtitle_backend/src/api/reposition_srt_top.py", "fields": [{"name": "ASS_ALIGN_TAG_RE = re.compile(r\"\\\\{\\\\\\\\an[1-9]\\\\}\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ASS_BLOCK_AT_START_RE = re.compile(r\"^\\\\{[^}]*\\\\}\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SRT_BLOCK_SPLIT = re.compile(r\"\\\\n\\\\s*\\\\n\", re.MULTILINE)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TIME_LINE_RE = re.compile(", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"19": "e19a35e391575eb2649cdf1ba59bde18029fff90"}]}